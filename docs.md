

Данная записка или что-то похожее на документацию к проекту разделена на несколько частей.

Содержание........................................................
Первая часть        --- Описание проекта.
Вторая часть        --- Логика проекта или же если кратко (SQL).
Третья часть        --- Так называемый "backend" проекта
Четвёртая часть     --- Реализация GUI. (Пока что только в планах)
Заключение          --- Краткий итог, авторство.
Статус-коды         --- Коды, которые возвращают хранимые процедуры и функции-обработчики
                        http запросов.



**Часть первая......................................................

Данный проект (а точнее песочница) был придуман благодаря моим одногруппникам в институте,
а подкреплён стремлением саморазвиваться и делать что-то новое.



Итак краткая суть проекта:

Сделать что-то многопользовательское (хотя бы для группы, состоящей из 25 человек). Где каждый
участник проекта может создать личный кабинет, вступить или же стать лидером "Группы"
(абстракция реальной группы в институте). В группу могуть быть добавлены "Предметы" (абстракция
реальных дисциплин, изучаемых студентами группы).
Для каждой дисциплины лидер группы (абстракция старосты) может назначть баллы,
например, для контроля за сданными лабораторными работами (какой студент сдел, какой не смог
сдать с первого раза ну или который решил не сдавать в этот раз).

Зачем же нужна такая система???

--  Как я уже раньше писал, к данной идее меня подтолкнули некоторые одногруппники, которые
    занмали очередь на лабораторные работы очень интересным способом (какой-то одногруппникам
    в определённый момент времени до дня сдачи лабораторной работы, решался в нашем групповом
    чате в социальной сети, начать очередь. Честно, не знаю что движило этими людьми -- у меня
    лишь ассоциации с американскими вестернами, когда первым за револьвер хватается тот, у
    яйца сжались до невозможности. лирическое отступление, извиняюсь... .
    Так вот и получалось так, что те ребята, которые не расстаются с телефонами и сидят как
    задры, занимали очередь первыми, создавая тем самым некоторую подгруппку, которая выбиваласась
    из общей массы, ну имела куда больше сданных работ, а на остальных было всё равно -- ну в
    общем, пока писал, так смешно стало ахахах, ну понтяно короче; в общем мне такое не подуше
    и... .)

Перспективная ли это идея? Будет ли кто-нибудь этим пользоваться?

--  Ещё с момента как эта идея пришла мне в голову, я, однозначно и точно понимал, что идея
    эта давным давно реализована (Электронный дневник к примеру).
    А по поводу использования,а тоже самое никому это не требуется, так как это просто лишний
    ненужный геморой, и всех всё устравает, (Интересно изменится ли их (одногруппников) мнение
    со временем, даже интересно).



**К реализации:

Проект реализован на языке python с использованием СУРБД PostgreSQL.


--  Серверная часть реализована с помощью фраемворка flask.

--  Логическая часть проекта реализована с помощью хранимых процедур, написанных на процедурном
    языке pl/pgsql. Там (в хранимых процедурах) и происходят все (SELECT, UPDATE, DELETE, INSERT)
    в общем DML команды и связки этих команд.

--  GUI (Пока что не реализовано)


Логическая часть в БД переписывалась мною раза 2-3.

В первоначальных реализациях процедурных функций логика была построена неправильно и тем самым
присутствовали команды статистического и динамического SQL, что,конечно, возможно в реальных
проектах, но очень не желательно, так как в динамических командах пользовательскй ввод очень
трудно контроллировать, а также частично теряется смысл самих хранимых процедур (скорость
обработки и выполнения SQL запросов).

В конечной же реализации хранимых процедур в БД используются только команды статистического SQL, что,
как я считаю, очень хорошее изменение в логике работы проекта, а также в скорости и сохранности
данных.

Почему хранимый процедуры?

--  Тут имеется несколько причин, которые, как мне кажется, заслуживают внимания:

    1.  Мне нравится SQL ахаха; (В принципе на этом уже можно было бы закончить список, да?!).
        Нетрудный в освоении, был разработан специально для работы с реляционными базами данных,
        элегантный, в нем нету множества каких-то библиотек, сторонних модулей... . А имеется
        стандартный набор средств DML, DDL, ..., а также процедурных языков для выстраивания всего
        оствльного с их помощью.

    2.  Скорость выполнения команд. Так как практически во всех нынешних СУБД и СУРБД имеется
        втроенный препроцессор (только бы не ошибиться тут с этим препроцессором...), и компилятор
        с помошью которых СУБД может проводить (синтаксический, семантический) анализ запроса и
        в последствии применять уже скомпилированный запрос, тем самым заново не проводится анализ
        запроса, а по итогу мы получаем выигрыш по времени.
        Нужно сказать, что препроцессор может скомпилировать статистический SQL, но не динамический
        SQL
    
    3.  Жеский контроль над данными. В хранимых процедурах имееюся встроенные транзакции, которы
        начинаются с момента выполнения функции и заканчиваются коммитом, если выполнились все
        команды, а ролбеком, если где-то произошла ошибка... Тем самым данные обновляются либо все
        т сразу либо не выполнится ни одна команда хранимой процедуры (вообще я сейчас процетировал
        определение транзакции).

--  Про минусы:

    Конечно же всегда, когда имеются положительные стороны, там же всегда найдутся и отрицательные.

    1.  Хранимые процедуры тяжело тестировать, а также возникают большие проблемы, если функция была
        написана неправильно -- придётся удалять её из БД, отредактировать, а затем опять выгрузить
        эту функцию в БД (геморойно короче говоря)

    2.  Пожалуй главный минус -- требуется очень хорошо оформленная документвация и жесткие тесты.
        Так как разбираться какая хранимка за что отвечает, в каких других хранимках используется
        -- очень и очень трудно; а если работать в терминале, то пожалуй и вовсе невозможно, если в
        БД сотни хранимых процедур.



**Часть вторая......................................................

В этой части представлено описание хранимых процедур, на которых построен проект. Изложение
структурировано: Приведено название функции, какие параметры принимает данная функция, а также
какой тип данных и что конкретно возвращает функция в той или иной ситуации.


Модуль Oautch:

**1.  Функция start_registration(email, password, name, last_name, token) -->

    Данная функция предназначена для регистрации пользователя в приложении. Для этого потребуется
    ввести свою почту, придумать пароль, ввести имя и фамилию. Токен создается уже на стороне сервера.

    Входный параметры:
        email               --  Почта пользователя.
                                type :: VARCHAR(128).

        password            --  Пароль, который придумал пользователь к своему аккаунту (а точнее хеш
                                пароля).
                                type :: VARCHAR(256).

        name                --  Имя пользователя.
                                type :: VARCHAR(128).
        
        last_name           --  Фамилия пользователя.
                                type :: VARCHAR(128).
        
        token               --  Токен для подтверждения почты (завершения регистрации). Высылается на
                                почту
                                type :: VARCHAR(256).

    Выходные параметры: INTEGER.
        code: 1300          --  Пользователь с такой почтой уже был зарегистрирован!

        code: 1301          --  Пользователь с такой почтой ожидает подтверждения регистрации.
                                Обновлённый токен подтверждения отправлен на вашу почту!

        code: 1201          --  Токен для подтверждения регистрации отправлен на вашу почту!



**2.  Функция end_registration(email, token_activate, token)  -->

    Данная функция предназначена для подтверждения почты (завершения регистрации). Для этого требуется
    ввести почту, на которую производилась регистрация аккаунта, а также токен активации, который был
    автоматически отправлен на данную почту. Третий параментр token создаётся на стороне сервера и
    служит для взаимодействия с api проекта.

    Входный параметры:
        email               --  Почта пользователя.
                                type :: VARCHAR(128).

        token_activation    --  Токен который был отправлен пользователю на его почту (для завершения
                                регистрации).
                                type :: VARCHAR(256).
                            
        token               --  Токен, для взаимодествия с api приложения (всего функционала за
                                исключением части касающейся: регистрации, аутентификации, авторизации
                                и удаления профиля)
                                type :: VARCHAR(128).

    Выходные параметры: INTEGER.
        code: 1200          --  Ваша почта была успешно подтверждена!

        code: 1302          --  Прежде чем подтверждать почту, требуется пройти регистрацию!



**3.  Функция delete_user(email)  -->

    Данная функция служит для удаления профиля пользователя. Для этого достаточно всего лишь указать
    почту, на которой был создан аккаунт. Нужно сказать, что конечно же по одной и только одной почте,
    удаление аккаунта не произойдет... так как еще требуется проверить пароль пользователя, а то вдруг
    это не он собрался удалять аккаунт. Но данная реализация выполнена в функции delete_user() в 
    backend части проекта.

    Входный параметры:
        email               --  Почта пользователя.
                                type :: VARCHAR(128).

    Выходные параметры: INTEGER.
        code: 1401          --  Вы не можете удалить свой профиль так как являетесь лидером группы
                                в которой находятся другие участники!

        code: 1202          --  Ваш профиль был успешно удалён!



**4.  Функция authorisation(email, token) -->

    Данная функция предназначена для обновления токена пользователя, то есть чтобы пользователь
    мог как и прежде использовать функционал приложения, когда его предыдущий токен станет недействителен
    в данном приложении это 24 часа (ровно 1 день) с момента регистрации или авторизации.

    Входный параметры:
        email               --  Почта пользователя.
                                type :: VARCHAR(128).
                        
        token               --  Токен, для взаимодествия с api приложения (всего функционала за
                                исключением части касающейся: регистрации, аутентификации, авторизации
                                и удаления профиля)
                                type :: VARCHAR(128).

    Выходные параметры: INTEGER.
        code: 1303          --  Для выполнения команд требуется сначала зарегистрироваться или
                                авторизоваться!

        code: 1203          --  Ваш токен доступа был успешно обновлён!



**5.  Функция check_password(email)   -->

    Данная функция предназначена чтобы узнать хеш-пароль пользователя, с данной почтой. Используется
    в функциях на стороне сервера как неотъемлимая часть для выполнени функций: delete_user(email) и 
    authorisation(email, token). Как раз с помошью check_password(email) мы и можем проверить корректность
    пароля и почты, введённых пользователем для дальнейшего удалени или авторицации.

    Входный параметры:
        email               --  Почта пользователя.
                                type :: VARCHAR(128).
    
    Выходные параметры: TABLE(INTEGER, VARCHAR(256)).
                             (CODE, HASH_PASSWORD)
        code: 1400          --  Пользователя с такой почтой не зарегистрирован!
                                То есть: вернётся такое (1400, None)

        code: 1204          --  Пользователь с такой почтой зарегистрирован и хеш пароля
                                данного пользователя был найден в базе!
                                То есть: вернётся такое (1204, 'хеш-пароль')



**6.  Функция session(token_time) -->

    Данная функция предназначина для проверки времени действия токена пользователя. Данная функция
    используется только внутри БД (то есть вызывают её сами хранимые процедуры)

    Входный параметры:
        token_time          --  Дата создания токена.
                                type :: TIMESTAMP(0) WITHOUT TIME ZONE.

    Выходные параметры: BOOLEAN.

        True                --  Если токен существует (иначе говоря пользователь существеет) и с
                                момента активации прошло меньше 24 часов.

        False               --  Если токен не существует или срок действия истёк.



Модуль Logic:

**1.  Функция create_users_groups(email, token, user_group)   -->

    Данная функция предназначена для создание группы. Передается почта пароль для подтверждения
    пользователя, а также название группы (user_group). После успешного применения этой функции,
    профиль инициатора обновляется и он становится тимлидом.

    Входный параметры:

        email               --  Почта пользователя.
                                type :: VARCHAR(128).
                        
        token               --  Токен, для взаимодествия с api приложения (всего функционала за
                                исключением части касающейся: регистрации, аутентификации, авторизации
                                и удаления профиля)
                                type :: VARCHAR(128).

        user_group          --  Имя группы, которую пользователь хочет создать. Допускается
                                использование цифр и букв латинского алфавита.
                                type :: VARCHAR(32).

    Выходные параметры: INTEGER.

        code: 1303          --  Для выполнения команд требуется сначала зарегистрироваться или
                                авторизоваться!

        code: 1402          --  Ваш статус не "NEW" (не новичок, который только что зарегистрировался)!

        code: 1304          --  Такое имя группы уже используется, выберите другое!

        code: 1205          --  Вы успешно создали группу!



**2.  Функция delete_users_group(email, token)    -->

    Данная функция удаляет группу, которая была создана от имени пользователя, который передает свою
    почту и токен.

    Входный параметры:

        email               --  Почта пользователя.
                                type :: VARCHAR(128).
                        
        token               --  Токен, для взаимодествия с api приложения (всего функционала за
                                исключением части касающейся: регистрации, аутентификации, авторизации
                                и удаления профиля)
                                type :: VARCHAR(128).

    Выходные параметры: INTEGER.

        code: 1303          --  Для выполнения команд требуется сначала зарегистрироваться или
                                авторизоваться!

        code: 1403          --  Ваш статус не "TEAM_LEAD" (не создатель группы)!

        code: 1404          --  Вы не можете удалить группу, так как в ней находятся другие
                                пользователи!

        code: 1206          --  Вы успешно удалили шруппу!



**3.  Функция add_users_in_group(email, token, add_email) -->

    Данная функция позволяет тимлиду добавить пользователей в свою группу.

    Входный параметры:

        email               --  Почта пользователя.
                                type :: VARCHAR(128).
                        
        token               --  Токен, для взаимодествия с api приложения (всего функционала за
                                исключением части касающейся: регистрации, аутентификации, авторизации
                                и удаления профиля)
                                type :: VARCHAR(128).
                
        add_email           --  Почта пользователя, которого хотим добавить.
                                type :: VARCHAR(128)

    Выходные параметры: INTEGER.

        code: 1303          --  Для выполнения команд требуется сначала зарегистрироваться или
                                авторизоваться!

        code: 1403          --  Ваш статус не "TEAM_LEAD" (не создатель группы)!

        code: 1400          --  Пользователя с такой почтой не зарегистрирован!

        code: 1305          --  Вы не можете добавить данного пользователя в группу, так
                                как он уже состоит в группе!

        code: 1207          --  Вы успешно дабавили нового пользователя в свою группу!



**4.  Функция delete_users_in_group(email, token, delete_email)   -->

    Данная функция позволяет тимлиду удалить пользователя из группы, зная его почтовый адрес.

    Входный параметры:

        email               --  Почта пользователя.
                                type :: VARCHAR(128).
                        
        token               --  Токен, для взаимодествия с api приложения (всего функционала за
                                исключением части касающейся: регистрации, аутентификации, авторизации
                                и удаления профиля)
                                type :: VARCHAR(128).
                
        delete_email        --  Почта пользователя, которого хотим удалить.
                                type :: VARCHAR(128)

    Выходные параметры: INTEGER.

        code: 1405          --  Вы не можете удалить самого себя из группы!

        code: 1303          --  Для выполнения команд требуется сначала зарегистрироваться или
                                авторизоваться!

        code: 1403          --  Ваш статус не "TEAM_LEAD" (не создатель группы)!

        code: 1406          --  Вы не можете удалить пользователя из группы, не являясь её создателем!

        code: 1208          --  Вы успешно удалили пользователя из вашей группы!



**5.  Функция add_items_in_group(email, token, item)  -->

    Данная функция позволяет тимлиду добавить предмет в группу.

    Входный параметры:

        email               --  Почта пользователя.
                                type :: VARCHAR(128).
                        
        token               --  Токен, для взаимодествия с api приложения (всего функционала за
                                исключением части касающейся: регистрации, аутентификации, авторизации
                                и удаления профиля)
                                type :: VARCHAR(128).
                
        item                --  Название предмета, который будет добавлен в группу.
                                type :: VARCHAR(32).

    Выходные параметры: INTEGER.

        code: 1303          --  Для выполнения команд требуется сначала зарегистрироваться или
                                авторизоваться!

        code: 1403          --  Ваш статус не "TEAM_LEAD" (не создатель группы)!

        code: 1306          --  Предмет с таким именем уже существует в вашей группе!

        code: 1210          --  Вы успешно добавили новый предмет в свою группу!



**6.  Функция delete_items_in_group(email, token, item) -->

    Данная функция позволяет тимлиду удалить предмет из группы.

    Входный параметры:

        email               --  Почта пользователя.
                                type :: VARCHAR(128).
                        
        token               --  Токен, для взаимодествия с api приложения (всего функционала за
                                исключением части касающейся: регистрации, аутентификации, авторизации
                                и удаления профиля)
                                type :: VARCHAR(128).
                
        item                --  Название предмета, который будет удалён в группу.
                                type :: VARCHAR(32).

    Выходные параметры: INTEGER.

        code: 1303          --  Для выполнения команд требуется сначала зарегистрироваться или
                                авторизоваться!

        code: 1403          --  Ваш статус не "TEAM_LEAD" (не создатель группы)!

        code: 1407          --  Вы не можете удалить предмет с таким именем из вашей группы,
                                так как его не существует!

        code: 1211          --  Вы успешно удалили предмет из совей группы!



**7.  Функция update_data_in_group(email, token, update_email, update_ball, item)  -->

    Данная функция позволяет тимлиду обновлять данные в группе для всех её участников, и каждому
    участнику обновлять только свои баллы.

    Входный параметры:

        email               --  Почта пользователя.
                                type :: VARCHAR(128).
                        
        token               --  Токен, для взаимодествия с api приложения (всего функционала за
                                исключением части касающейся: регистрации, аутентификации, авторизации
                                и удаления профиля)
                                type :: VARCHAR(128).

        update_email        --  Почта пользователя, для которого будет производиться обновление.
                                type :: VARCHAR(128).

        update_ball         --  Изменённый балл для данного пользователя по заданной дисциплине.
                                type :: INTEGER.
                
        item                --  Название предмета, который будет удалён в группу.
                                type :: VARCHAR(32).

    Выходные параметры: INTEGER.

        code: 1303          --  Для выполнения команд требуется сначала зарегистрироваться или
                                авторизоваться!

        code: 1403          --  Ваш статус не "TEAM_LEAD" (не создатель группы)!

        code: 1408          --  Вы не можете обновить статус пользователя в группе, не являясь
                                её создателем! (Тут надо признать, что кое-что не доработано и
                                изменить статус может только лидер, но вообще это мог бы сделать
                                и сам пользователь разумеется только для своего профиля!)

        code: 1212          --  Вы успешно обновили статус пользователя по предмету в вашей группе!



**8.  Функция select_items_in_group(email, token) -->

    Данная функция позволяет просмотреть все предметы, которые были созданы в группе... Предметы и
    их идентификаторы.

    Входный параметры:

        email               --  Почта пользователя.
                                type :: VARCHAR(128).
                        
        token               --  Токен, для взаимодествия с api приложения (всего функционала за
                                исключением части касающейся: регистрации, аутентификации,
                                авторизации и удаления профиля)
                                type :: VARCHAR(128).

    Выходные параметры: TABLE(INTEGER, VARCHAR(32)).
                              (item_id, itam_name)

        В зависимости от того существует ли пользователь, не истекло ли время токена доступа,
        будет возвращена:
        
        Либо пустая таблица (так как возможно пользователя не существует или токен
        недействительный или в группе еще не назначены предметы).

        Либо таблица с данными (item_id, item_name).



**9.  Функция select_data_in_group(email, token) -->

    Данная функция позволяет просмотреть баллы всех участников группы, по заданному
    идентификатору предмета.

    Входный параметры:

        email               --  Почта пользователя.
                                type :: VARCHAR(128).
                        
        token               --  Токен, для взаимодествия с api приложения (всего функционала
                                за исключением части касающейся: регистрации, аутентификации,
                                авторизации и удаления профиля)
                                type :: VARCHAR(128).

    Выходные параметры: TABLE( INTEGER, VARCHAR(128), VARCHAR(128), INTEGER).
                             (ID, NAME, LAST_NAME, BALL)

        В зависимости от того существует ли пользователь, не истекло ли время токена доступа,
        будет возвращена:
        
        Либо пустая таблица (так как возможно пользователя не существует или токен
        недействительный или пользователь не состоит в группе).

        Либо таблица с данными (ID, NAME, LAST_NAME, BALL).



**Часть третья......................................................

В данной части записки речь пойдет про обработку http запросов для взаимодействия с логикой
приложения.

Будут изложены url адреса, на которые требуется послылать запросы;
Методы запросов POST или GET, для взаимодействия с теми или иными функциями.
Параметры, которые требуется передавать в теле запросов, а также объекты ответа сервера.


Модуль Oautch:

**1.  Функция регистрации.

    Данная функция предназначена для регистрации пользователя. Для этого пользователю
    требуется сформировать POST запрос на указанны url адрес и в теле запроса указть
    словарь с ключами (email, password, name, last_name).

    url                     --  https://.../api/oautch/registration

    Метод запроса           --  POST

    Аргументы:

        email               --  Почта пользователя.

        password            --  Пароль, придуманный пользователем.

        name                --  Имя пользователя.

        last_name           --  Фамилия пользователя.


    Пример запроса:

    data = {
        email       :   'pavel@mail.ru',
        password    :   '123',
        name        :   'Pavel',
        last_name   :   'Krivorotov'
    }

    res = requests.post(
        url = 'https://.../api/oautch/registration',
        data = data
    )

    Ответом на такой запрос будет объект json -- словарь, если по простому. В данном словаре
    будут прописаны разные ключи, но важными являются ключи: status и code.

        status              --  Либо True, либо False. В зависимости от введённых данных.

        code                --  Целочисленный код ответа. С помощь данного когад можно понять,
                                где произошла ошибка и что было сделано неправильно.



**2.  Функция аутентификации.

    Данная функция предназначена для аутентификации (подтверждения почты) пользователя.
    Для этого пользователю требуется сформировать POST запрос на указанны url адрес и в теле
    запроса указть словарь с ключами (email, token).

    url                     --  https://.../api/oautch/authentication

    Метод запроса           --  POST

    Аргументы:

        email               --  Почта пользователя.

        token               --  Токен подтверждения, который был отправлен пользователю на
                                почту.


    Пример запроса:

    data = {
        email       :   'pavel@mail.ru',
        token       :   'j9ue7t32d975rqtxvbcjnoek21woiw92e83rjcnbwqurg23re7e632tdw'
    }

    res = requests.post(
        url = 'https://.../api/oautch/authentication',
        data = data
    )

    Ответом на такой запрос будет объект json -- словарь, если по простому. В данном словаре
    будут прописаны разные ключи, но важными являются ключи: status и code.

        status              --  Либо True, либо False. В зависимости от введённых данных.

        code                --  Целочисленный код ответа. С помощь данного когад можно понять,
                                где произошла ошибка и что было сделано неправильно.



**3.  Функция авторизации.

    Данная функция предназначена для авторизации (создания нового токена) пользователя.
    Для этого пользователю требуется сформировать POST запрос на указанны url адрес и в теле
    запроса указть словарь с ключами (email, password).

    url                     --  https://.../api/oautch/authorisation

    Метод запроса           --  POST

    Аргументы:

        email               --  Почта пользователя.

        password            --  Пароль пользователя, который был придуман при регистрации.


    Пример запроса:

    data = {
        email       :   'pavel@mail.ru',
        password    :   '123'
    }

    res = requests.post(
        url = 'https://.../api/oautch/authorisation',
        data = data
    )



**4.  Функция удаления профиля пользователя.

    Данная функция предназначена для удаления профиля пользователя.
    Для этого пользователю требуется сформировать POST запрос на указанны url адрес и в теле
    запроса указть словарь с ключами (email, password).

    url                     --  https://.../api/oautch/delete

    Метод запроса           --  POST

    Аргументы:

        email               --  Почта пользователя.

        password            --  Пароль пользователя, который был придуман при регистрации.


    Пример запроса:

    data = {
        email       :   'pavel@mail.ru',
        password    :   '123'
    }

    res = requests.post(
        url = 'https://.../api/oautch/delete',
        data = data
    )



Модуль Logic:

**1.  Функция создания группы.

    Данная функция предназначена для создания группы пользователей.
    Для этого пользователю требуется сформировать GET запрос на указанны url адрес и в теле
    запроса указть словарь с ключами (email, token, group_name).

    url                     --  https://.../api/logic/create-group

    Метод запроса           --  GET

    Аргументы:

        email               --  Почта пользователя.

        token               --  Токен доступа пользователя.

        group_name          --  Имя создаваемой группы.


    Пример запроса:

    params = {
        email       :   'pavel@mail.ru',
        token       :   'i28y3982yf7td6t8ue0i2821ey872td785tqfwdg0di72ey129diiqhwuhd',
        group_name  :   '4136'
    }

    res = requests.get(
        url = 'https://.../api/logic/create-group',
        params = params
    )



**2.  Функция удаления группы.

    Данная функция предназначена для удаления группы пользователей.
    Для этого пользователю требуется сформировать GET запрос на указанны url адрес и в теле
    запроса указть словарь с ключами (email, token).

    url                     --  https://.../api/logic/delete-group

    Метод запроса           --  GET

    Аргументы:

        email               --  Почта пользователя.

        token               --  Токен доступа пользователя.

        group_name          --  Имя создаваемой группы.


    Пример запроса:

    params = {
        email       :   'pavel@mail.ru',
        token       :   'i28y3982yf7td6t8ue0i2821ey872td785tqfwdg0di72ey129diiqhwuhd',
    }

    res = requests.get(
        url = 'https://.../api/logic/delete-group',
        params = params
    )



**3.  Функция добавления пользователя в группу.

    Данная функция предназначена для добавления пользователя в группу.
    Для этого пользователю требуется сформировать GET запрос на указанны url адрес и в теле
    запроса указть словарь с ключами (email, token, user_email).

    url                     --  https://.../api/logic/add-user

    Метод запроса           --  GET

    Аргументы:

        email               --  Почта пользователя.

        token               --  Токен доступа пользователя.

        user_email          --  Почта пользователя, которого хотим добавить.


    Пример запроса:

    params = {
        email       :   'pavel@mail.ru',
        token       :   'i28y3982yf7td6t8ue0i2821ey872td785tqfwdg0di72ey129diiqhwuhd',
        user_email  :   'vika@mail.ru'
    }

    res = requests.get(
        url = 'https://.../api/logic/add-user',
        params = params
    )



**4.  Функция удаления пользователя из группы.

    Данная функция предназначена для удаления пользователя из группы.
    Для этого пользователю требуется сформировать GET запрос на указанны url адрес и в теле
    запроса указть словарь с ключами (email, token, user_email).

    url                     --  https://.../api/logic/drop-user

    Метод запроса           --  GET

    Аргументы:

        email               --  Почта пользователя.

        token               --  Токен доступа пользователя.

        user_email          --  Почта пользователя, которого хотим удалить.


    Пример запроса:

    params = {
        email       :   'pavel@mail.ru',
        token       :   'i28y3982yf7td6t8ue0i2821ey872td785tqfwdg0di72ey129diiqhwuhd',
        user_email  :   'vika@mail.ru'
    }

    res = requests.get(
        url = 'https://.../api/logic/drop-user',
        params = params
    )



**5.  Функция добавления предмета Вв группы.

    Данная функция предназначена для добавления предмета в группу.
    Для этого пользователю требуется сформировать GET запрос на указанны url адрес и в теле
    запроса указть словарь с ключами (email, token, item_name).

    url                     --  https://.../api/logic/add-item

    Метод запроса           --  GET

    Аргументы:

        email               --  Почта пользователя.

        token               --  Токен доступа пользователя.

        item_name           --  Название предмета, который хотим добавить.


    Пример запроса:

    params = {
        email       :   'pavel@mail.ru',
        token       :   'i28y3982yf7td6t8ue0i2821ey872td785tqfwdg0di72ey129diiqhwuhd',
        item_name   :   'match'
    }

    res = requests.get(
        url = 'https://.../api/logic/add-item',
        params = params
    )



**6.  Функция удаления предмета из группы.

    Данная функция предназначена для удаления предмета из группы.
    Для этого пользователю требуется сформировать GET запрос на указанны url адрес и в теле
    запроса указть словарь с ключами (email, token, item_name).

    url                     --  https://.../api/logic/drop-item

    Метод запроса           --  GET

    Аргументы:

        email               --  Почта пользователя.

        token               --  Токен доступа пользователя.

        item_name           --  Название предмета, который хотим добавить.


    Пример запроса:

    params = {
        email       :   'pavel@mail.ru',
        token       :   'i28y3982yf7td6t8ue0i2821ey872td785tqfwdg0di72ey129diiqhwuhd',
        item_name   :   'match'
    }

    res = requests.get(
        url = 'https://.../api/logic/drop-item',
        params = params
    )



**7.  Функция обновления данных по предмету в группы.

    Данная функция предназначена для удаления предмета из группы.
    Для этого пользователю требуется сформировать GET запрос на указанны url адрес и в теле
    запроса указть словарь с ключами (email, token, user_email, user_ball, item_id).

    url                     --  https://.../api/logic/update-users-group-data

    Метод запроса           --  GET

    Аргументы:

        email               --  Почта пользователя.

        token               --  Токен доступа пользователя.

        user_email          --  Почта пользователя, для которого хотим внести изменения.

        user_ball           --  Обновлённый балл, который будет отображаться после
                                внесения изменения.

        item_id             --  Уникальный номер предмета, по которому у пользователя
                                обновится балл.


    Пример запроса:

    params = {
        email       :   'pavel@mail.ru',
        token       :   'i28y3982yf7td6t8ue0i2821ey872td785tqfwdg0di72ey129diiqhwuhd',
        user_email  :   'vika@mail.ru',
        user_ball   :   5,
        item_id     :   1
    }

    res = requests.get(
        url = 'https://.../api/logic/update-users-group-data',
        params = params
    )



**8.  Функция просмотра предметов, созданных в группе.

    Данная функция предназначена для просмотра всех предметов в группеы.
    Для этого пользователю требуется сформировать GET запрос на указанны url адрес и в теле
    запроса указть словарь с ключами (email, token).

    url                     --  https://.../api/logic/search-group-items

    Метод запроса           --  GET

    Аргументы:

        email               --  Почта пользователя.

        token               --  Токен доступа пользователя.


    Пример запроса:

    params = {
        email       :   'pavel@mail.ru',
        token       :   'i28y3982yf7td6t8ue0i2821ey872td785tqfwdg0di72ey129diiqhwuhd'
    }

    res = requests.get(
        url = 'https://.../api/logic/search-group-items',
        params = params
    )


    Ответом этой функции будет уже не просто статус-код, представляемый целым числом, а
    таблица вида (item_id, item_name) -- уникальный номер предмета и название.
    Если же пользователя не существует, пероль неправильный или в группе нету предметов,
    то вернется пустая таблица.



**9.  Функция просмотра баллов в группе по конкретному предмету.

    Данная функция предназначена для просмотра баллов всех участников группы по конкретному
    предмету.
    Для этого пользователю требуется сформировать GET запрос на указанны url адрес и в теле
    запроса указть словарь с ключами (email, token, item_id).

    url                     --  https://.../api/logic/search-group-ball

    Метод запроса           --  GET

    Аргументы:

        email               --  Почта пользователя.

        token               --  Токен доступа пользователя.

        item_id             --  Уникальный идентификатор предмета в группе.


    Пример запроса:

    params = {
        email       :   'pavel@mail.ru',
        token       :   'i28y3982yf7td6t8ue0i2821ey872td785tqfwdg0di72ey129diiqhwuhd',
        item_id     :   1
    }

    res = requests.get(
        url = 'https://.../api/logic/search-group-ball',
        params = params
    )


    Ответом этой функции также будет таблица вида (id, name, last_name, ball) -- id пользователя,
    имя, фамилия и его баллы (ТАКЖЕ ПЛАНИРУЕТСЯ ДОБАВИТЬ ДАТУ ПОСЛЕДНЕГО ОБНОВЛЕНИЯ. ДЛЯ ЭТОГО
    ПРОСТО ТРЕБУЕТСЯ ЧУТЬ ЧУТЬ ПЕРЕПИСАТЬ ВОЗВРАЩАЕМЫЙ ЗАПРОС В SQL ФУНКЦИИ).
    Если же пользователя не существует, парольнеправильныйили в группе нету предметов, то
    вернется пустая таблица.



**Часть четвёртая......................................................

    Пока не начинал делать. Но планируется реализация оконной программы с помошью библиотеки
    Qt5 для python.



**Заключение...........................................................

    Дата начала работы      ~   20.12.2021.
    Дата окончания работы   ~   -.
    Автор                   -   Криворотов Павел.
    Цель работы             -   развлекательная/образовательная.

    Затронутые темы         -   SQL запросы, процедурное программирование (pl/pgsqql),
                                фраемворк flask и некоторые его комплектующие. Декораторы
                                (точнее один написанный декоратор для оптимального
                                подключения и отключения к базе данных. Можно было и еще
                                один написать для проверки токена и статуса пользователя,
                                но было решено сделать иначе из некоторых сообрежений).
                                Функциональное программирование.

    На 24.01.2021 (23:22) МСК сделано:
    1.  Реализованы все хранимые процедуры в БД.
    2.  Реализован польностью функциональный api проекта. (кроме
        пожалуй отправления токена подтверждения регистрации на почту).
    3.  Написана документация для проекта (для всего,что уже готово
        разумеется).
    4.  Возможно еще что-то упустил. Не помню точно.

    5.  Не написано ни одного теста... ни к хранимкам, ни к функциям-обработчикам http запросов.

    
    На 25.01.2021 (16:55) МСК сделано:
    1.  Реализована отправка токена на почту.0 (надеюсь не завалится)!



Некоторые технические сведения.......................................

Статус коды, которые возвращаются хранимыми процедурами из БД и их значения:

1200 ------ Ваша почта была успешно подтверждена!

1201 ------ Токен для подтверждения регистрации отправлен на вашу почту!

1202 ------ Ваш профиль был успешно удалён!

1203 ------ Ваш токен доступа был успешно обновлён!

1204 ------ Пользователь с такой почтой зарегистрирован и хеш пароля
            данного пользователя был найден в базе!

1205 ------ Вы успешно создали группу!

1206 ------ Вы успешно удалили шруппу!

1207 ------ Вы успешно дабавили нового пользователя в свою группу!

1208 ------ Вы успешно удалили пользователя из вашей группы!

1210 ------ Вы успешно добавили новый предмет в свою группу!

1211 ------ Вы успешно удалили предмет из совей группы!

1212 ------ Вы успешно обновили статус пользователя по предмету в вашей группе!




1300 ------ Пользователь с такой почтой уже был зарегистрирован!

1301 ------ Пользователь с такой почтой ожидает подтверждения регистрации.
            Обновлённый токен подтверждения отправлен на вашу почту!

1302 ------ Прежде чем подтверждать почту, требуется пройти регистрацию!

1303 ------ Для выполнения команд требуется сначала зарегистрироваться или
            авторизоваться!

1304 ------ Такое имя группы уже используется, выберите другое!

1305 ------ Вы не можете добавить данного пользователя в группу, так
            как он уже состоит в группе!

1306 ------ Предмет с таким именем уже существует в вашей группе!
    



1400 ------ Пользователя с такой почтой не зарегистрирован!

1401 ------ Вы не можете удалить свой профиль так как являетесь лидером группы
            в которой находятся другие участники!

1402 ------ Ваш статус не "NEW" (не новичок, который только что зарегистрировался)!

1403 ------ Ваш статус не "TEAM_LEAD" (не создатель группы)!

1404 ------ Вы не можете удалить группу, так как в ней находятся другие
            пользователи!

1405 ------ Вы не можете удалить самого себя из группы!

1406 ------ Вы не можете удалить пользователя из группы, не являясь её создателем!

1407 ------ Вы не можете удалить предмет с таким именем из вашей группы,
            так как его не существует!

1408 ------ Вы не можете обновить статус пользователя в группе, не являясь
            её создателем! (Тут надо признать, что кое-что не доработано и
            изменить статус может только лидер, но вообще это мог бы сделать
            и сам пользователь разумеется только для своего профиля!)



Статус коды, которые возвращаются функциями-обработчиками http запросов и их значения:
2200 ------ Параметры переданные пользователем удовлетворяют всем условиям и могут быть
            использованы для дальнейшей работы с ними.

2201        ...

2202 ------ Сообщение с токеном подтверждения отправлено на почту, указанную при
            регистрации.



2300        ...

2301        ...



2400 ------ Переданы неправиольные параметры (это могуть быть несовпадения имён, с
            прописанными в документации или же были переданы лишние значения или 
            передано меньше значений, чем нужно)

2401 ------ В переданных параметрах используются недопустимые символы или же происходит
            неправильная передача аргументов (вместо строк передаются целые числа и наоборот).

2402 ------ Сообщение с токеном подтверждения не было отправлено, на почту, указанную при
            регистрации
